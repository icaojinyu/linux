# 远程管理常用命令

#### 目标
* 关机/重启
  * `shutdown`
* 查看或配置网卡信息
  * `ifconfig`
  * `ping`
* 远程登录和复制文件
  * `ssh`
  * `scp`    


### 01.关机/重启
|序号|命令|对应英文|作用|
|---|-----|-----|-----|
|01|shutdown 选项 时间| shutdown|关机/重启|

#### 1.1 shutdown
* `shutdown`命令可以安全关闭和重新启动系统

|选项|含义|
|----|----|
|-r|重新启动|

> 提示:
> * 不指定选项和参数,默认表示 ***1分钟*** 之后 关闭电脑
> * *远程维护服务器时,最好不要关闭系统,而应该重新启动系统*

* 常用命令实例:
```bash
# 重新启动操作系统,其中 now 表示现在
shutdown -r now

# 立刻关机,其中 now 表示现在
shutdown now

# 系统在今天的 20:25 会关机
shutdown 20:25

# 系统再过10分钟后自动关机
shutdown +10

# 取消之前指定的关机计划
shutdown -c
```

### 02.查看或配置网卡信息
|序号|命令|对应英文|作用|
|---|----|------|----|
|01|ifconfig|configure a network interface|查看网卡配置信息|
|02|ping ip地址|ping|检测到目标ip地址的连接是否正常|

#### 2.1 网卡和IP地址
##### 网卡
* 网卡是一个专门负责网络通讯的硬件设备
* **IP地址**是设置在网卡上的地址信息
> 我们可以把 ***电脑*** 比作 ***手机***,***网卡*** 相当于 ***SIM卡***,***IP地址*** 相当于 ***电话号码***
##### IP地址
* 每台联网的电脑上都有IP地址,是保证电脑之间正常通讯的重要设置
> 注意: 每台电脑的IP地址不能相同,否则会出现IP地址冲突,并且没有办法正常通讯

#### 2.2 ifconfig
* `ifconfig`可以查看计算机当前的网卡配置信息
```bash
# 查看网卡配置信息
ifconfig

# 查看网卡对应的IP地址
ifconfig | grep inet
```
> 提示: 一台计算机中可能会有一个物理网卡和多个虚拟网卡,在linux中物理网卡的名字通常以`ensXX`表示
* `127.0.0.1`被称为**本地环回地址**,一般用来测试本机网卡是否正常

#### 2.3 ping
* `ping`一般用于检测网络通与不通,数值越大,速度越慢
* 原理: 网络上的机器都有 **唯一确定的IP地址**,我们给目标IP地址发送一个数据包,对方就要返回一个数据包,根据返回的数据包和时间,我们可以确定目标主机的存在
> 在linux中,想要终止一个终端程序的执行,绝大多数都可以使用`ctrl + c`


### 03.远程登录和复制文件

|序号|命令|对应英文|作用|
|----|-----|------|------|
|01|ssh 用户名@ip|secure shell|连接远程服务器|
|02|scp 用户名@ip:文件名或路径 用户名@ip:文件名或路径|secure copy|远程复制文件|

#### 3.1 ssh基础(重点)
* 在linux中,SSH是**非常常用**的工具,通过SSH客户端我们可以连接到运行了 **SSH服务器** 的远程机器上
* SSH客户端是一种使用`secure shell(ssh)`协议连接到远程计算机的软件程序
* `ssh`是目前较可靠, **专为远程登录会话和其他网络服务** 提供安全性的协议
  * 利用`ssh协议`可以有效防止远程管理过程中的信息泄露
  * 通过`ssh协议`可以对所有传输的数据进行加密,也能够防止DNS欺骗和IP欺骗
* `ssh`的另一项优点是传输的数据可以是经过压缩的,所以可加快传输的速度

##### 1) 域名和端口号
**域名**
* 由一串用点分隔的名字组成,例如:www.google.com
* 是ip地址的别名,方便用户记忆

**端口号**
* ip地址: 通过ip地址找到网络上的计算机
* 端口号: 通过端口号可以找到计算机上运行的应用程序
  * SSH服务器的默认端口号是`22`,如果是默认端口号,在连接的时候,可以省略
* 常见服务端口号列表:

|序号|服务|端口号|
|---|----|-----|
|01|SSH服务器|22|
|02|Web服务器|80|
|03|HTTPS|443|
|04|FTP|21|


##### 2) SSH客户端的简单使用
```bash
ssh [-p port] user@remote
```
* `user`是远程机器上的用户名,如果不指定的话,默认为当前用户
* `remote`是远程机器的地址,可以是 ***IP/域名***,或者是 ***后面会提到的别名***
* `port`是 **SSH Server监听的端口**,如果不指定,默认是`22`

> 提示:
> * 使用`exit`退出当前用户的登录
> * `ssh`这个终端命令只能在`linux`或者`unix`系统下使用
> * 如果在`windows`系统中,可以安装`putty`或者`xshell`客户端软件即可
> * 在工作中,SSH服务器的端口号很有可能不是`22`,如果遇到这种情况就需要使用`-p`选项,指定正确的端口号,否则无法正常连接到服务器
